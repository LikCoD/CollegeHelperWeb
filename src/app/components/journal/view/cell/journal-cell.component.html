<div class="cell" id="cell"
     [popper]="marksTooltip"
     [popperTrigger]='popperTrigger'
     [popperPlacement]="popperPlacement"
     [popperHideOnClickOutside]="true"
     [popperHideOnScroll]="true"
     [popperDisableStyle]="true"
     (click)="this.parent.showPopup(this, x, y)">
  <div *ngIf="lesson != undefined && lesson.marks != undefined && lesson.marks.length != 0 else emptyCell"
       class="not-empty-cell">
    <div *ngIf="lesson.marks.length == 1" class="not-empty-cell">
      <div class="mark_1  cell-element"><p class="mark-text">{{lesson.marks[0].mark}}</p></div>
    </div>
    <div *ngIf="lesson.marks.length > 1" class="not-empty-cell">
      <div class="mark_2">
        <p class="mark-text mark_2-1">{{lesson.marks[0].mark}}</p>
        <hr class="mark_2-divider">
        <p class="mark-text mark_2-2">{{lesson.marks[1].mark}}</p>
      </div>
    </div>
    <div *ngIf="lesson.marks.length > 2" class="more-circle"></div>
  </div>
</div>
<div class="select-mark" *ngIf="selectMarkPopup">
  <app-select-mark
    style="position: absolute; z-index: 1;"
    *ngIf="lesson != undefined"
    [lesson]="lesson"
    [userId]="userId"
    (markAdd)="markAdd.emit($event)"
    (markEdit)="markEdit.emit($event)"
    (markDelete)="markDelete.emit($event)"></app-select-mark>
</div>

<ng-template #emptyCell>
  <div class="empty-cell"></div>
</ng-template>

<popper-content #marksTooltip>
  <div class="markTooltip" *ngIf="lesson != undefined && lesson.marks != undefined && lesson.marks.length != 0">
    <div *ngFor="let mark of lesson!!.marks" class="mark-cell">
      <p>{{mark.mark}}</p>
    </div>
  </div>
</popper-content>
