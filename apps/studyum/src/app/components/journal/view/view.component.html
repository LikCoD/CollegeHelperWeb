<ng-container *ngIf="journal$ | async as journals">
  <app-base-journal-top-action-bar
    [selectedCollapseType]="collapseType"
    [journalInfo]="journals[0].info"
    (collapse)="collapseType = $event"
  ></app-base-journal-top-action-bar>
  <div class="wrapper">
    <app-base-journal
      *ngFor="let journal of journals"
      [journal]="journal"
      [mode]="mode()"
      [showAmount]="isAmountSelected"
      [selectedLessonType]="selectedLessonType"
      [selectedCollapseType]="collapseType"
      (cellClick)="cellClick($event)"
      (dateClick)="dateClick($event)"
      (collapseChange)="collapseType = 'null'"
    ></app-base-journal>
  </div>
  <app-journal-bottom-action-bar
    [journal]="journals[0]"
    [selectedType]="selectedLessonType"
    [isAbsencesSelected]="isAbsencesSelected"
    [isShowAmount]="isAmountSelected"
    (selectType)="selectLessonType(journals[0], $event)"
    (toggleAbsence)="isAbsencesSelected = !isAbsencesSelected"
    (toggleAmount)="isAmountSelected = !isAmountSelected"
  ></app-journal-bottom-action-bar>
</ng-container>
