<ng-container *ngIf="filterLessons(journal.dates) as collapsedDates">
  <div class="corner"></div>
  <ol class="titles">
    <li *ngFor="let row of journal.rows">{{row.title}}</li>
  </ol>
  <div class="date-row">
    <app-journal-month
      *ngFor="let days of journal.dates; let i = index"
      [month]="days"
      [monthLessons]="monthLessons(journal, i)"
    ></app-journal-month>
  </div>
  <section>
    <div *ngIf="mode == 'general'">
      <p>{{'journal.view.avg' | translate}}</p>
      <app-base-journal-cell
        *ngFor="let row of journal.rows"
        [entries]="[getAverage(row)]"
        [color]="row.color">
      </app-base-journal-cell>
    </div>
    <div *ngIf="mode == 'absences'">
      <p>{{'journal.view.absencesAmount' | translate}}</p>
      <app-base-journal-cell
        *ngFor="let row of journal.rows"
        [entries]="[row.absencesAmount.toString()]"
        [color]="row.color">
      </app-base-journal-cell>
    </div>
    <div *ngIf="mode == 'absences'">
      <p>{{'journal.view.absencesTime' | translate}}</p>
      <app-base-journal-cell
        *ngFor="let row of journal.rows"
        [entries]="[row.absencesTime.toString()]"
        [color]="row.color">
      </app-base-journal-cell>
    </div>
    <ng-container *ngIf="mode != 'absences' && showAmount">
    <div *ngFor="let markAmount of marksAmount(journal.rows[0]); let i = index">
      <p>{{markAmount.mark}}</p>
      <app-base-journal-cell
        *ngFor="let row of journal.rows"
        [entries]="[marksAmount(row)[i].amount.toString()]"
        [color]="row.color">
      </app-base-journal-cell>
    </div>
    </ng-container>
  </section>
</ng-container>
